const translations = {
    jp: {
        mode_chat: "é›‘è«‡ (Chat)",
        mode_business: "ãƒ“ã‚¸ãƒã‚¹ (Business)",
        profile_name: "My Profile",
        profile_role: "Freelance Creator / Instructor",
        chat_intro_title: "è»¢ã‚“ã æ•°ã ã‘ã€å¼·ããªã‚‹ã€‚<br>ç§ã®äººç”Ÿã€ãƒãƒ³ã‚¹ãƒˆãƒƒãƒ—ç”Ÿä¸­ç¶™ï¼",
        chat_audio_title: "éŸ³å£°é…ä¿¡ã‚’è´ã",
        chat_video_title: "å‹•ç”»ã‚’è¦³ã‚‹",
        chat_link_btn: "AIã§ä½œã£ãŸæˆæœç‰©ä¸€è¦§ï¼†è‡ªå·±ç´¹ä»‹ã¯ã“ã¡ã‚‰",
        business_intro_title: "ã€Œã§ããªã„ã€ã¯ã€ã€Œã§ãã‚‹ã€ã‚ˆã†ã«ãªã‚‹ãŸã‚ã®äºˆå…†ã§ã™ã€‚",
        business_intro_desc: "ã²ã¨ã‚Šã§æ‚©ã‚€æ™‚é–“ã¯ã€ã‚‚ã†çµ‚ã‚ã‚Šã€‚<br>ã‚ãªãŸã®ã€Œã‚„ã‚ŠãŸã„ã€ã«å¯„ã‚Šæ·»ã„ã€ä¸€ç•ªè¿‘ãã§åŠ±ã¾ã—ç¶šã‘ã‚‹ãƒãƒ³ãƒ„ãƒ¼ãƒãƒ³ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ¬ãƒƒã‚¹ãƒ³ã€‚",
        business_sub_msg: "ãƒ‘ã‚½ã‚³ãƒ³ãŒè‹¦æ‰‹ãªã‚ãªãŸã‚’ã€ãƒ“ã‚¸ãƒã‚¹ã®ä¸»å½¹ã¸ã€‚<br>åˆå¿ƒè€…ç›®ç·šã®å‹•ç”»ã¨ã€å¿ƒã«å¯„ã‚Šæ·»ã†å€‹åˆ¥æŒ‡å°ã§ã€<br>ã€Œã‚ã‹ã‚‰ãªã„ã€ãŒã€Œã§ãã‚‹ï¼ã€ã«å¤‰ã‚ã‚‹å–œã³ã‚’ã€‚",
        business_audio_title: "ã€ãƒ“ã‚¸ãƒã‚¹é…ä¿¡ã€‘çŸ¥è­˜ã‚’åŠ›ã«ã€æ˜æ—¥ã‚’å‹•ã‹ã™",
        business_audio_desc: "ã‚ãªãŸã®ãƒ“ã‚¸ãƒã‚¹ã‚’åŠ é€Ÿã•ã›ã‚‹ã€å®Ÿè·µçš„ãªãƒ’ãƒ³ãƒˆã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚",
        business_video_title: "ã€åˆå¿ƒè€…å‘ã‘å‹•ç”»ã€‘ã€Œã‚ã‹ã‚‰ãªã„ã€ã‚’ã‚¼ãƒ­ã«ã™ã‚‹",
        business_video_desc: "ã¤ã¾ãšãã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã‚’ä¸å¯§ã«è§£èª¬ã€‚ãƒ‘ã‚½ã‚³ãƒ³åˆå¿ƒè€…ã®æ–¹ã§ã‚‚å®‰å¿ƒã—ã¦ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å­¦ã¹ã¾ã™ã€‚",
        business_appearance_title: "å‡ºæ¼”æƒ…å ±",
        business_appearance_btn: "å‡ºæ¼”æƒ…å ±ã¯ã“ã¡ã‚‰ (YouTube)",
        business_link_btn: "AIã§ä½œã£ãŸæˆæœç‰©ä¸€è¦§ï¼†è‡ªå·±ç´¹ä»‹ã¯ã“ã¡ã‚‰"
    },
    en: {
        mode_chat: "Chat",
        mode_business: "Business",
        profile_name: "My Profile",
        profile_role: "Freelance Creator / Instructor",
        chat_intro_title: "Stronger with every fall.<br>My life, broadcast non-stop!",
        chat_audio_title: "Listen to Audio Podcast",
        chat_video_title: "Watch Video",
        chat_link_btn: "AI Deliverables & Self-Intro",
        business_intro_title: "\"I can't\" is just a sign that you will soon be able to.",
        business_intro_desc: "No more worrying alone.<br>I offer one-on-one online lessons to support your goals and encourage you every step of the way.",
        business_sub_msg: "Turning computer struggles into business strengths.<br>With beginner-friendly videos and personalized guidance,<br>Experience the joy of turning \"I don't know\" into \"I can do it!\"",
        business_audio_title: "[Business Audio] Knowledge is Power",
        business_audio_desc: "Practical tips to accelerate your business growth.",
        business_video_title: "[Beginner Video] Making \"Unknowns\" Zero",
        business_video_desc: "Carefully explaining stumbling blocks. Even beginners can learn at their own pace with confidence.",
        business_appearance_title: "Appearance Info",
        business_appearance_btn: "Click here for Appearances (YouTube)",
        business_link_btn: "AI Deliverables & Self-Intro"
    },
    ca: {
        mode_chat: "æ‚è°ˆ (Chat)",
        mode_business: "å•†åŠ¡ (Business)",
        profile_name: "æˆ‘çš„ç®€ä»‹",
        profile_role: "è‡ªç”±åˆ›ä½œè€… / è®²å¸ˆ",
        chat_intro_title: "è·Œå€’è¶Šå¤šè¶Šå¼ºå¤§ã€‚<br>æˆ‘çš„äººç”Ÿï¼Œå…¨ç¨‹ç›´æ’­ï¼",
        chat_audio_title: "æ”¶å¬éŸ³é¢‘æ’­å®¢",
        chat_video_title: "è§‚çœ‹è§†é¢‘",
        chat_link_btn: "AIä½œå“é›†ä¸è‡ªæˆ‘ä»‹ç»",
        business_intro_title: "â€œä¸ä¼šâ€æ˜¯â€œå­¦ä¼šâ€çš„é¢„å…†ã€‚",
        business_intro_desc: "ç‹¬è‡ªçƒ¦æ¼çš„æ—¶é—´å·²ç»ç»“æŸã€‚<br>æä¾›ä¸€å¯¹ä¸€åœ¨çº¿è¯¾ç¨‹ï¼Œè´´è¿‘ä½ çš„æ„¿æœ›ï¼Œåœ¨æœ€è¿‘çš„åœ°æ–¹ä¸æ–­é¼“åŠ±ä½ ã€‚",
        business_sub_msg: "è®©ä¸æ“…é•¿ç”µè„‘çš„ä½ æˆä¸ºèŒåœºä¸»è§’ã€‚<br>é€šè¿‡åˆå­¦è€…è§†è§’çš„è§†é¢‘å’Œè´´å¿ƒçš„ä¸ªæ€§åŒ–æŒ‡å¯¼ï¼Œ<br>ä½“éªŒå°†â€œä¸æ‡‚â€å˜ä¸ºâ€œä¼šåšâ€çš„å–œæ‚¦ã€‚",
        business_audio_title: "ã€å•†åŠ¡éŸ³é¢‘ã€‘çŸ¥è¯†å°±æ˜¯åŠ›é‡ï¼Œé©±åŠ¨æ˜å¤©",
        business_audio_desc: "ä¸ºæ‚¨æä¾›åŠ é€Ÿä¸šåŠ¡å‘å±•çš„å®ç”¨æŠ€å·§ã€‚",
        business_video_title: "ã€åˆå­¦è€…è§†é¢‘ã€‘å°†â€œä¸æ‡‚â€å˜ä¸ºé›¶",
        business_video_desc: "è¯¦ç»†è®²è§£å®¹æ˜“å—æŒ«çš„è¦ç‚¹ã€‚ç”µè„‘åˆå­¦è€…ä¹Ÿèƒ½æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥æ”¾å¿ƒå­¦ä¹ ã€‚",
        business_appearance_title: "å‡ºæ¼”ä¿¡æ¯",
        business_appearance_btn: "ç‚¹å‡»æŸ¥çœ‹å‡ºæ¼”ä¿¡æ¯ (YouTube)",
        business_link_btn: "AIä½œå“é›†ä¸è‡ªæˆ‘ä»‹ç»"
    }
};

function setLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key]; // Use innerHTML to support <br>
        }
    });

    // Update active button state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent.toLowerCase() === lang) {
            btn.classList.add('active');
        }
    });
}

document.addEventListener('DOMContentLoaded', () => {
    const modeToggle = document.getElementById('mode-toggle');
    const body = document.body;
    const chatContent = document.getElementById('chat-content');
    const businessContent = document.getElementById('business-content');

    // Function to update the UI based on the toggle state
    function updateMode() {
        if (modeToggle.checked) {
            // Business Mode
            body.classList.remove('mode-chat');
            body.classList.add('mode-business');

            chatContent.classList.remove('active');
            setTimeout(() => {
                chatContent.style.display = 'none';
                businessContent.style.display = 'block';
                setTimeout(() => businessContent.classList.add('active'), 10);
            }, 300);

        } else {
            // Chat Mode
            body.classList.remove('mode-business');
            body.classList.add('mode-chat');

            businessContent.classList.remove('active');
            setTimeout(() => {
                businessContent.style.display = 'none';
                chatContent.style.display = 'block';
                setTimeout(() => chatContent.classList.add('active'), 10);
            }, 300);
        }
    }

    // Initial check
    if (modeToggle.checked) {
        body.classList.add('mode-business'); // Ensure class matches state
        body.classList.remove('mode-chat');
        chatContent.style.display = 'none';
        businessContent.style.display = 'block';
        businessContent.classList.add('active');
    } else {
        body.classList.add('mode-chat');
        body.classList.remove('mode-business');
        businessContent.style.display = 'none';
        chatContent.style.display = 'block';
        chatContent.classList.add('active');
    }

    // Event Listener
    modeToggle.addEventListener('change', updateMode);

    // Send Discord Webhook Notification on Load
    const webhookUrl = 'https://discord.com/api/webhooks/1471822747784183863/OwGx4iBo9vKZ10nbHPIgzuCzZGP-MKSgSWWceJ3ekaqjlM2MFjfv1KkanWXuu8Ugh45y';

    // Check if we've already sent a notification this session to avoid spam on reload (Optional, but good practice)
    if (!sessionStorage.getItem('notified')) {
        fetch(webhookUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                content: "Someone visited your Self Introduction page! ğŸ‰"
            }),
        })
            .then(response => {
                if (response.ok) {
                    console.log('Notification sent!');
                    sessionStorage.setItem('notified', 'true');
                } else {
                    console.error('Failed to send notification:', response.status);
                }
            })
            .catch(error => console.error('Error sending notification (CORS restriction may apply):', error));
    }
});
